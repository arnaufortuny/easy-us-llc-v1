import{a as x,j as e,e as V,l as O,E as qe,s as Re,C as We}from"./react-core-BsxKXXxv.js";import{b as ze,u as He,N as Ye,L as U,F as Ge,a as y}from"./index-w-thGWs0.js";import{a as _e,t as Xe}from"./forms-hx6-QXJD.js";import{u as Je}from"./use-page-title-83f4WI7B.js";import{P as $,g as Z}from"./pricing-CfjVwglL.js";import{u as Ke,B as i,g as Ze,h as Qe,m as k,i as m,j as u,l as p,n as b,k as j,I as f,N as et,p as S,C as Q,o as me}from"./ui-components--YO36qUH.js";import{u as tt}from"./use-form-draft-DVFXia70.js";import{u as st}from"./i18n-DUhTI5rQ.js";import{o as at,s as d,n as rt}from"./validation-D376FIhw.js";import"./react-dom-B7Vds6pN.js";import"./pdf-DQEQIQLq.js";import"./tanstack-C2WJu90S.js";import"./radix-ui-Hz6lMY8R.js";const nt=17,ot=t=>at({ownerFirstName:d().min(1,t("validation.firstNameRequired")),ownerLastName:d().min(1,t("validation.lastNameRequired")),ownerEmail:d().email(t("validation.emailInvalid")),ownerPhone:d().min(1,t("validation.required")).refine(c=>!c.startsWith("+")||/[a-zA-Z]/.test(c)?!1:c.replace(/\D/g,"").length>=6,{message:t("validation.phoneFormat")}),companyName:d().min(1,t("validation.required")).refine(c=>c.toUpperCase().trim().endsWith("LLC")||c.toUpperCase().trim().endsWith("L.L.C.")||c.toUpperCase().trim().endsWith("L.L.C"),{message:t("validation.llcNameFormat")}),state:d().min(1,t("validation.required")),ownerCount:rt().default(1),ownerStreetType:d().min(1,t("validation.required")),ownerAddress:d().min(1,t("validation.required")),ownerCity:d().min(1,t("validation.required")),ownerProvince:d().optional(),ownerPostalCode:d().min(1,t("validation.required")),ownerCountry:d().min(1,t("validation.required")),ownerBirthDate:d().min(1,t("validation.required")).refine(c=>{if(!c)return!1;const h=new Date(c),D=new Date;let q=D.getFullYear()-h.getFullYear();const P=D.getMonth()-h.getMonth();return(P<0||P===0&&D.getDate()<h.getDate())&&q--,q>=18},{message:t("validation.ageMinimum")}),businessActivity:d().min(1,t("validation.required")),isSellingOnline:d().min(1,t("validation.required")),needsBankAccount:d().min(1,t("validation.required")),willUseStripe:d().min(1,t("validation.required")),wantsBoiReport:d().min(1,t("validation.required")),wantsMaintenancePack:d().min(1,t("validation.required")),notes:d().optional(),idDocumentUrl:d().optional(),password:d().min(8,t("validation.minLength")).optional(),confirmPassword:d().optional(),paymentMethod:d().optional(),discountCode:d().optional()}).refine(c=>!c.password||c.password===c.confirmPassword,{message:t("validation.passwordMismatch")||"Passwords do not match",path:["confirmPassword"]});function wt(){const{t}=st();Je();const{user:c,isAuthenticated:h,refetch:D}=ze(),[q,P]=He(),[o,A]=x.useState(0),[M,pe]=x.useState(null),[ee,ue]=x.useState(!1),[te,be]=x.useState(!1),[R,he]=x.useState(!1),[se,ae]=x.useState(!1),{toast:l}=Ke(),[L,W]=x.useState(""),[fe,z]=x.useState(!1),[H,Y]=x.useState(!1),[G,re]=x.useState(!1),[_,ne]=x.useState(!1),[g,F]=x.useState(null),[oe,ie]=x.useState(!1),[it,ge]=x.useState(!1),[ce,je]=x.useState(""),[X,Ne]=x.useState(!1),le=new URLSearchParams(window.location.search),B=le.get("edit"),I=le.get("state"),C=!!I&&["New Mexico","Wyoming","Delaware"].includes(I),we=x.useMemo(()=>ot(t),[t]),a=_e({resolver:Xe(we),defaultValues:{ownerFirstName:"",ownerLastName:"",ownerEmail:"",ownerPhone:"",companyName:"",state:C?I:"",ownerCount:1,ownerStreetType:"",ownerAddress:"",ownerCity:"",ownerProvince:"",ownerPostalCode:"",ownerCountry:"",ownerBirthDate:"",businessActivity:"",isSellingOnline:"",needsBankAccount:"",willUseStripe:"",wantsBoiReport:"S√≠",wantsMaintenancePack:"No",notes:"",idDocumentUrl:"",password:"",confirmPassword:"",paymentMethod:"transfer",discountCode:""}}),de=x.useRef(o);o>de.current,x.useEffect(()=>{window.scrollTo({top:0,left:0,behavior:"instant"}),document.documentElement.scrollTop=0,document.body.scrollTop=0},[]),x.useEffect(()=>{de.current=o},[o]);const ve={ownerFirstName:"",ownerLastName:"",ownerEmail:"",ownerPhone:"",companyName:"",state:C?I:"",ownerCount:1,ownerStreetType:"",ownerAddress:"",ownerCity:"",ownerProvince:"",ownerPostalCode:"",ownerCountry:"",ownerBirthDate:"",businessActivity:"",isSellingOnline:"",needsBankAccount:"",willUseStripe:"",wantsBoiReport:"S√≠",wantsMaintenancePack:"No",notes:"",idDocumentUrl:""},{clearDraft:xe}=tt({form:a,storageKey:"llc-formation-draft",debounceMs:1e3,defaultValues:ve}),ye={"New Mexico":$.formation.newMexico.price*100,Wyoming:$.formation.wyoming.price*100,Delaware:$.formation.delaware.price*100},ke=a.watch("state"),E=ye[ke]||$.formation.newMexico.price*100,Ce=async s=>{if(!s.trim()){F(null);return}ie(!0);try{const n=await(await y("POST","/api/discount-codes/validate",{code:s.toUpperCase(),orderAmount:E})).json();n.valid?F({valid:!0,discountAmount:n.discountAmount}):F({valid:!1,discountAmount:0,message:n.message||"C√≥digo no v√°lido"})}catch{F({valid:!1,discountAmount:0,message:"Error al validar el c√≥digo"})}finally{ie(!1)}};x.useEffect(()=>{async function s(){try{if(B){const r=await fetch(`/api/llc/${B}`);if(r.ok){const n=await r.json();pe(Number(B)),he(!0);const v=(n.ownerFullName||"").split(" "),T=v[0]||"",J=v.slice(1).join(" ")||"";a.reset({ownerFirstName:T,ownerLastName:J,ownerEmail:n.ownerEmail||"",ownerPhone:n.ownerPhone||"",companyName:n.companyName||"",state:n.state||"New Mexico",ownerCount:n.ownerCount||1,ownerStreetType:n.ownerStreetType||"",ownerAddress:n.ownerAddress||"",ownerCity:n.ownerCity||"",ownerProvince:n.ownerProvince||"",ownerPostalCode:n.ownerPostalCode||"",ownerCountry:n.ownerCountry||n.ownerCountryResidency||"",ownerBirthDate:n.ownerBirthDate||"",businessActivity:n.businessActivity||"",isSellingOnline:n.isSellingOnline||"",needsBankAccount:n.needsBankAccount||"",willUseStripe:n.willUseStripe||"",wantsBoiReport:n.wantsBoiReport||"S√≠",wantsMaintenancePack:n.wantsMaintenancePack||"No",notes:n.notes||"",idDocumentUrl:n.idDocumentUrl||""}),l({title:t("application.messages.dataLoaded"),description:t("application.messages.canEditApplication")})}}}catch{}}s()},[B]),x.useEffect(()=>{C&&o===0&&A(1)},[C]),x.useEffect(()=>{if(h&&c){const s=c.firstName||"",r=c.lastName||"",n=c.email||"",v=c.phone||"",T=c.streetType||"",J=c.address||"",Te=c.city||"",Ve=c.province||"",Me=c.postalCode||"",Be=c.country||"",Ie=c.birthDate||"",Oe=c.businessActivity||"";a.reset({...a.getValues(),ownerFirstName:s,ownerLastName:r,ownerEmail:n,ownerPhone:v,ownerStreetType:T,ownerAddress:J,ownerCity:Te,ownerProvince:Ve,ownerPostalCode:Me,ownerCountry:Be,ownerBirthDate:Ie,businessActivity:Oe});const Ue=C?1:0,$e=[{step:1,value:s&&r?`${s} ${r}`:""},{step:2,value:n},{step:3,value:v},{step:4,value:""}];for(const K of $e)if(!K.value&&K.step>=Ue){A(K.step);return}A(4)}},[h,c,a,C]);const Ae=a.watch("ownerEmail");x.useEffect(()=>{z(!1),Y(!1),W("")},[Ae]);const Se=async()=>{const s=a.getValues("ownerEmail");if(!s){l({title:t("application.messages.emailMissing"),description:t("application.messages.emailNeeded"),variant:"destructive"});return}re(!0);try{const r=await y("POST","/api/register/send-otp",{email:s});if(r.ok)z(!0),l({title:t("application.messages.codeSent"),description:t("application.messages.checkEmailWaiting")});else{const n=await r.json();l({title:"Error",description:n.message,variant:"destructive"})}}catch{l({title:t("application.messages.errorSending"),description:t("application.messages.tryAgainSeconds"),variant:"destructive"})}finally{re(!1)}},Pe=async()=>{const s=a.getValues("ownerEmail");if(!L||L.length!==6){l({title:t("application.messages.codeMissing"),description:t("application.messages.enter6DigitCode"),variant:"destructive"});return}ne(!0);try{const r=await y("POST","/api/register/verify-otp",{email:s,otp:L});if(r.ok)Y(!0),l({title:t("application.messages.emailVerified"),description:t("application.messages.canContinue")});else{const n=await r.json();l({title:"Error",description:n.message,variant:"destructive"})}}catch{l({title:t("application.messages.incorrectCode"),description:t("application.messages.codeInvalidOrExpired"),variant:"destructive"})}finally{ne(!1)}},Ee=async s=>{try{const n=await(await y("POST","/api/auth/check-email",{email:s})).json();return ge(n.exists),je(n.firstName||""),n.exists}catch{return!1}},De=async()=>{const s=a.getValues("ownerEmail"),r=a.getValues("password");if(!r||r.length<1){l({title:t("toast.passwordMissing"),description:t("toast.passwordMissingDesc"),variant:"destructive"});return}try{if(!(await y("POST","/api/login",{email:s,password:r})).ok){l({title:t("toast.passwordIncorrect"),description:t("toast.passwordIncorrectDesc"),variant:"destructive"});return}await D(),Y(!0),l({title:t("toast.welcomeBack"),description:t("toast.welcomeBackDesc")})}catch{l({title:t("toast.connectionError"),description:t("toast.connectionErrorDesc"),variant:"destructive"})}},N=async()=>{const r={0:["state"],1:["ownerFirstName","ownerLastName"],2:["ownerEmail"],3:["ownerPhone"],4:["companyName"],5:["ownerCount"],6:["ownerStreetType","ownerAddress","ownerCity","ownerProvince","ownerPostalCode","ownerCountry"],7:["ownerBirthDate"],8:["idDocumentUrl"],9:["businessActivity"],10:["isSellingOnline"],11:["needsBankAccount"],12:["willUseStripe"],13:["notes"]}[o];if(!(r&&!await a.trigger(r))){if(o===2&&!h){const n=a.getValues("ownerEmail");if(await Ee(n)){A(20);return}}if(o===14&&!h){const n=a.getValues("password"),v=a.getValues("confirmPassword");if(!n||n.length<8){l({title:t("application.validation.passwordTooShort"),description:t("application.validation.passwordMinChars"),variant:"destructive"});return}if(n!==v){l({title:t("application.validation.passwordMismatch"),description:t("application.messages.tryAgain"),variant:"destructive"});return}}A(n=>n+1),window.scrollTo({top:0,behavior:"instant"})}},w=()=>{o>(C?1:0)&&(A(r=>r-1),window.scrollTo({top:0,behavior:"instant"}))},Le=async s=>{ae(!0);try{if(R){await y("PUT",`/api/llc/${M}`,s),l({title:t("application.messages.changesSaved"),description:t("application.messages.infoUpdated")}),xe(),P("/dashboard");return}if(!h&&s.password)try{const n={applicationId:M,email:s.ownerEmail,password:s.password,ownerFullName:`${s.ownerFirstName} ${s.ownerLastName}`.trim(),paymentMethod:s.paymentMethod};g?.valid&&s.discountCode&&(n.discountCode=s.discountCode,n.discountAmount=g.discountAmount);const v=await y("POST","/api/llc/claim-order",n);if(!v.ok){const T=await v.json();l({title:"Ha habido un problema",description:T.message,variant:"destructive"});return}l({title:"Cuenta creada",description:"Ya casi terminamos"})}catch{l({title:"No se pudo crear la cuenta",description:"Int√©ntalo de nuevo",variant:"destructive"});return}const r={...s,ownerFullName:`${s.ownerFirstName} ${s.ownerLastName}`.trim(),status:"submitted"};if(g?.valid&&s.discountCode&&(r.discountCode=s.discountCode,r.discountAmount=g.discountAmount),await y("PUT",`/api/llc/${M}`,r),h&&c)try{const n=s.ownerFirstName||"",v=s.ownerLastName||"";await y("PATCH","/api/user/profile",{firstName:n,lastName:v,phone:s.ownerPhone,streetType:s.ownerStreetType,address:s.ownerAddress,city:s.ownerCity,province:s.ownerProvince,postalCode:s.ownerPostalCode,country:s.ownerCountry,birthDate:s.ownerBirthDate,businessActivity:s.businessActivity})}catch{}l({title:t("application.messages.changesSaved"),description:t("application.continue")}),A(19)}catch{l({title:t("application.messages.somethingWentWrong"),description:t("application.messages.tryAgain"),variant:"destructive"})}finally{ae(!1)}},Fe=async()=>{const s=a.getValues();try{if(await y("PUT",`/api/llc/${M}`,s),h&&c)try{await y("PATCH","/api/user/profile",{firstName:s.ownerFirstName||"",lastName:s.ownerLastName||"",phone:s.ownerPhone,streetType:s.ownerStreetType,address:s.ownerAddress,city:s.ownerCity,province:s.ownerProvince,postalCode:s.ownerPostalCode,country:s.ownerCountry,birthDate:s.ownerBirthDate,businessActivity:s.businessActivity})}catch{}l({title:t("application.messages.changesSaved"),description:t("application.messages.infoUpdated")}),xe(),P("/dashboard")}catch{l({title:t("application.messages.somethingWentWrong"),description:t("application.messages.tryAgain"),variant:"destructive"})}};return e.jsxs("div",{className:"min-h-screen bg-background font-sans w-full",children:[e.jsx(Ye,{}),e.jsxs("main",{className:"pt-20 md:pt-24 pb-16 max-w-xl mx-auto px-4 md:px-6",children:[R&&e.jsxs("div",{className:"bg-accent/10 border border-accent/20 rounded-2xl p-4 mb-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-black text-primary",children:t("application.editMode")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("application.editModeDesc")})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(i,{type:"button",variant:"outline",className:"rounded-full",onClick:()=>P("/dashboard"),children:t("application.cancel")}),e.jsx(i,{type:"button",className:"bg-accent text-primary font-black rounded-full",onClick:Fe,"data-testid":"button-save-changes",children:t("application.saveChanges")})]})]}),e.jsxs("h1",{className:"text-2xl md:text-4xl font-black mb-2 text-primary leading-tight text-center",children:[R?t("application.editTitle")+" ":t("application.title").replace("LLC",""),e.jsx("span",{className:"text-accent",children:"LLC"})]}),e.jsx("p",{className:"text-muted-foreground text-sm md:text-base mb-4 md:mb-6 text-center",children:t("application.subtitle")}),e.jsx(Ze,{currentStep:o,totalSteps:nt,className:"mb-8"}),e.jsx(Qe,{...a,children:e.jsxs("form",{className:"space-y-6 md:space-y-8",onSubmit:a.handleSubmit(Le),children:[o===0&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:["1Ô∏è‚É£ ",t("application.steps.whereToForm")]}),e.jsx(k,{children:t("application.steps.whereToFormDesc")}),e.jsx(m,{control:a.control,name:"state",render:({field:s})=>e.jsxs(u,{children:[e.jsx(p,{children:e.jsx("div",{className:"flex flex-col gap-2",children:[{name:"New Mexico",price:Z("newMexico")},{name:"Wyoming",price:Z("wyoming")},{name:"Delaware",price:Z("delaware")}].map(r=>e.jsxs("label",{onClick:()=>s.onChange(r.name),className:`flex items-center justify-between gap-3 px-4 py-3 rounded-full border-2 cursor-pointer transition-colors ${s.value===r.name?"border-accent bg-accent/10 dark:bg-accent/20":"border-gray-200 dark:border-border bg-white dark:bg-[#1A1A1A] hover:border-accent/50"}`,children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-4 h-4 rounded-full border-2 flex items-center justify-center shrink-0 ${s.value===r.name?"border-accent bg-accent":"border-gray-300 dark:border-border"}`,children:s.value===r.name&&e.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white"})}),e.jsx("span",{className:"font-bold text-foreground text-sm",children:r.name})]}),e.jsx("span",{className:"font-black text-accent text-base",children:r.price})]},r.name))})}),e.jsx(b,{})]})}),e.jsx(i,{type:"button",onClick:N,className:"w-full bg-accent hover:bg-accent/90 text-black font-bold h-12 rounded-full text-base transition-colors","data-testid":"button-continue-step0",children:t("application.continue")}),e.jsx(U,{href:"/servicios#comparador",className:"block text-center text-sm text-accent hover:text-accent/80 underline mt-3 font-medium","data-testid":"link-help-choose",children:t("application.helpChoose")})]},"step-0"),o===1&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:["2Ô∏è‚É£ ",t("application.steps.whatsYourName")]}),e.jsx(k,{children:t("application.steps.whatsYourNameDesc")}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(m,{control:a.control,name:"ownerFirstName",render:({field:s})=>e.jsxs(u,{children:[e.jsxs(j,{className:"text-sm md:text-base font-bold text-foreground",children:[t("application.fields.firstName"),":"]}),e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})}),e.jsx(m,{control:a.control,name:"ownerLastName",render:({field:s})=>e.jsxs(u,{children:[e.jsxs(j,{className:"text-sm md:text-base font-bold text-foreground",children:[t("application.fields.lastName"),":"]}),e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})})]}),e.jsxs("div",{className:"flex gap-3",children:[!C&&e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:`${C?"flex-1":"flex-[2]"} bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors`,children:t("application.continue")})]}),!h&&e.jsxs("div",{className:"space-y-4 pt-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"flex-1 h-px bg-border"}),e.jsx("span",{className:"text-xs text-muted-foreground font-medium",children:t("application.orContinueFast")}),e.jsx("div",{className:"flex-1 h-px bg-border"})]}),e.jsxs(i,{type:"button",variant:"outline",onClick:()=>window.location.href="/api/auth/google",className:"w-full h-12 rounded-full border-2 border-gray-200 dark:border-border bg-white dark:bg-[#1A1A1A] hover:bg-gray-50 dark:hover:bg-zinc-700 transition-colors font-bold flex items-center justify-center gap-3",children:[e.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[e.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),e.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),e.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),e.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),t("application.accessWithGoogle")]}),e.jsx(U,{href:"/auth/login",className:"block text-center text-xs text-accent font-bold underline","data-testid":"link-login-email",children:t("application.orLoginWithEmail")})]})]},"step-"+o),o===2&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:["3Ô∏è‚É£ ",t("application.steps.contactEmail")]}),e.jsx(k,{children:t("application.steps.contactEmailDesc")}),e.jsx(m,{control:a.control,name:"ownerEmail",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-sm md:text-base font-bold text-foreground",children:"Email:"}),e.jsx(p,{children:e.jsx(f,{...s,type:"email",className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o===3&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:["4Ô∏è‚É£ ",t("application.steps.contactPhone")]}),e.jsx(k,{children:t("application.steps.contactPhoneDesc")}),e.jsx(m,{control:a.control,name:"ownerPhone",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-sm md:text-base font-bold text-foreground",children:"Tel√©fono:"}),e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o===4&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:["5Ô∏è‚É£ ",t("application.steps.companyName")]}),e.jsx(k,{children:t("application.steps.companyNameDesc")}),e.jsx(m,{control:a.control,name:"companyName",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-sm md:text-base font-bold text-foreground",children:"Nombre deseado:"}),e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o===5&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:["6Ô∏è‚É£ ",t("application.steps.howManyOwners")]}),e.jsx(k,{children:t("application.steps.howManyOwnersDesc")}),e.jsxs("div",{className:"flex items-center justify-between gap-3 p-4 rounded-full border-2 border-accent bg-accent/10 dark:bg-accent/20",children:[e.jsx("span",{className:"font-bold text-foreground text-sm md:text-base",children:"√önico propietario (100%)"}),e.jsx(V,{className:"w-5 h-5 text-accent"})]}),e.jsxs("div",{className:"bg-muted/50 dark:bg-[#1A1A1A]/50 p-4 rounded-2xl border border-border",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:[e.jsx("strong",{className:"text-foreground",children:"¬øNecesitas varios socios?"}),e.jsx("br",{}),"Cont√°ctanos para LLCs con dos o m√°s propietarios."]}),e.jsx("a",{href:"https://wa.me/34614916910?text=Hola!%20Estoy%20en%20el%20formulario%20de%20creaci%C3%B3n%20de%20LLC%20y%20necesito%20una%20LLC%20con%20varios%20socios.%20%C2%BFPodemos%20hablar%20sobre%20las%20opciones%3F",target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3",children:e.jsx(i,{type:"button",variant:"outline",size:"sm",className:"rounded-full font-bold text-xs",children:"Consultar por WhatsApp"})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o===6&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:["7Ô∏è‚É£ ",t("application.steps.yourAddress")]}),e.jsx(k,{children:t("application.steps.yourAddressDesc")}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx(m,{control:a.control,name:"ownerStreetType",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-sm md:text-base font-bold text-foreground",children:"Tipo de v√≠a:"}),e.jsx(p,{children:e.jsxs(et,{value:s.value||"",onValueChange:s.onChange,placeholder:"Tipo",className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base",children:[e.jsx(S,{value:"Calle",children:"Calle"}),e.jsx(S,{value:"Avenida",children:"Avenida"}),e.jsx(S,{value:"Plaza",children:"Plaza"}),e.jsx(S,{value:"Paseo",children:"Paseo"}),e.jsx(S,{value:"Camino",children:"Camino"}),e.jsx(S,{value:"Carrera",children:"Carrera"}),e.jsx(S,{value:"Otro",children:"Otro"})]})}),e.jsx(b,{})]})}),e.jsx(m,{control:a.control,name:"ownerAddress",render:({field:s})=>e.jsxs(u,{className:"col-span-2",children:[e.jsx(j,{className:"text-sm md:text-base font-bold text-foreground",children:"Direcci√≥n y n√∫mero:"}),e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(m,{control:a.control,name:"ownerCity",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-sm md:text-base font-bold text-foreground",children:"Ciudad:"}),e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})}),e.jsx(m,{control:a.control,name:"ownerProvince",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-sm md:text-base font-bold text-foreground",children:"Provincia:"}),e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(m,{control:a.control,name:"ownerPostalCode",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-sm md:text-base font-bold text-foreground",children:"C√≥digo postal:"}),e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})}),e.jsx(m,{control:a.control,name:"ownerCountry",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-sm md:text-base font-bold text-foreground",children:"Pa√≠s:"}),e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base"})}),e.jsx(b,{})]})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o===7&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:"8Ô∏è‚É£ Fecha de nacimiento"}),e.jsx(m,{control:a.control,name:"ownerBirthDate",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"font-black  text-[10px] md:text-xs tracking-widest opacity-60",children:"Fecha:"}),e.jsx(p,{children:e.jsx(f,{...s,type:"date",className:"rounded-full h-12 px-5 border-2 border-gray-200 dark:border-border focus:border-accent bg-white dark:bg-[#1A1A1A] transition-colors font-medium text-foreground text-base max-w-[200px] md:max-w-none"})}),e.jsx(b,{})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o===8&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:"9Ô∏è‚É£ Documento de identidad"}),e.jsx(k,{children:"DNI o pasaporte en vigor (puedes proporcionarlo m√°s tarde)"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(m,{control:a.control,name:"idDocumentUrl",render:({field:s})=>e.jsxs(u,{children:[e.jsx(p,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("label",{className:"border-2 border-dashed border-border rounded-[2rem] p-8 md:p-12 text-center hover:border-accent transition-colors cursor-pointer bg-white dark:bg-card block",children:[e.jsx("input",{type:"file",accept:".jpg,.jpeg,.png,.pdf",className:"hidden","data-testid":"input-file-identity",onChange:r=>{const n=r.target.files?.[0];if(n){if(n.size>10*1024*1024){l({title:"Error",description:"El archivo no puede superar 10MB",variant:"destructive"});return}s.onChange(n.name),l({title:"Archivo seleccionado",description:`${n.name} - Se guardar√° con tu solicitud`})}}}),s.value&&s.value!=="PENDIENTE"?e.jsxs(e.Fragment,{children:[e.jsx(V,{className:"w-10 h-10 text-accent mx-auto mb-3"}),e.jsx("p",{className:"font-black text-accent text-sm",children:"Documento cargado"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate max-w-[200px] mx-auto",children:s.value})]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-10 h-10 text-muted-foreground mx-auto mb-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),e.jsx("p",{className:"font-black text-foreground text-sm",children:"Subir archivo o arrastrar"}),e.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"JPG, PNG, PDF (M√°x 10MB)"})]})]})})}),e.jsx(b,{})]})}),e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-[2rem] border border-border bg-white dark:bg-card hover:border-accent cursor-pointer transition-colors",children:[e.jsx(Q,{checked:a.getValues("idDocumentUrl")==="PENDIENTE",onCheckedChange:s=>{s?a.setValue("idDocumentUrl","PENDIENTE"):a.setValue("idDocumentUrl","")}}),e.jsx("span",{className:"text-xs md:text-sm font-medium text-foreground",children:"Prefiero proporcionarlo m√°s tarde"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o===9&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:"üîü ¬øA qu√© se dedicar√° tu LLC?"}),e.jsx(k,{children:"Expl√≠calo con tus palabras, sin tecnicismos"}),e.jsx(m,{control:a.control,name:"businessActivity",render:({field:s})=>e.jsxs(u,{children:[e.jsx(p,{children:e.jsx(me,{...s,className:"rounded-[2rem] min-h-[120px] p-6 border-border focus:border-accent"})}),e.jsx(b,{})]})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o>=10&&o<=13&&e.jsxs("div",{className:"space-y-6 text-left",children:[o===10&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:"1Ô∏è‚É£1Ô∏è‚É£ ¬øVas a vender online?"}),e.jsx(m,{control:a.control,name:"isSellingOnline",render:({field:s})=>e.jsx(p,{children:e.jsx("div",{className:"flex flex-col gap-3",children:["S√≠","No","A√∫n no lo s√©"].map(r=>e.jsxs("label",{onClick:()=>s.onChange(r),className:`flex items-center justify-between gap-3 p-4 rounded-full border-2 cursor-pointer transition-colors ${s.value===r?"border-accent bg-accent/10 dark:bg-accent/20":"border-gray-200 dark:border-border bg-white dark:bg-[#1A1A1A] hover:border-accent/50"}`,children:[e.jsx("span",{className:"font-bold text-foreground text-sm md:text-base",children:r}),s.value===r&&e.jsx(V,{className:"w-5 h-5 text-accent"})]},r))})})})]}),o===11&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:"1Ô∏è‚É£2Ô∏è‚É£ ¬øNecesitas cuenta bancaria?"}),e.jsx(m,{control:a.control,name:"needsBankAccount",render:({field:s})=>e.jsx(p,{children:e.jsx("div",{className:"flex flex-col gap-3",children:["S√≠, Mercury","S√≠, Relay","A√∫n no","Otro banco"].map(r=>e.jsxs("label",{onClick:()=>s.onChange(r),className:`flex items-center justify-between gap-3 p-4 rounded-full border-2 cursor-pointer transition-colors ${s.value===r?"border-accent bg-accent/10 dark:bg-accent/20":"border-gray-200 dark:border-border bg-white dark:bg-[#1A1A1A] hover:border-accent/50"}`,children:[e.jsx("span",{className:"font-bold text-foreground text-sm md:text-base",children:r}),s.value===r&&e.jsx(V,{className:"w-5 h-5 text-accent"})]},r))})})})]}),o===12&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:"1Ô∏è‚É£3Ô∏è‚É£ ¬øUsar√°s Stripe u otra?"}),e.jsx(m,{control:a.control,name:"willUseStripe",render:({field:s})=>e.jsx(p,{children:e.jsx("div",{className:"flex flex-col gap-3",children:["Stripe","Otra","No todav√≠a"].map(r=>e.jsxs("label",{onClick:()=>s.onChange(r),className:`flex items-center justify-between gap-3 p-4 rounded-full border-2 cursor-pointer transition-colors ${s.value===r?"border-accent bg-accent/10 dark:bg-accent/20":"border-gray-200 dark:border-border bg-white dark:bg-[#1A1A1A] hover:border-accent/50"}`,children:[e.jsx("span",{className:"font-bold text-foreground text-sm md:text-base",children:r}),s.value===r&&e.jsx(V,{className:"w-5 h-5 text-accent"})]},r))})})})]}),o===13&&e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:"1Ô∏è‚É£4Ô∏è‚É£ ¬øAlgo m√°s que debamos saber?"}),e.jsx(k,{children:"El reporte BOI est√° incluido en tu formaci√≥n (es obligatorio por ley)"}),e.jsx(m,{control:a.control,name:"notes",render:({field:s})=>e.jsx(u,{children:e.jsx(p,{children:e.jsx(me,{...s,className:"rounded-[2rem] min-h-[120px] p-6 border-border focus:border-accent"})})})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o===14&&e.jsxs("div",{className:"space-y-8 text-left",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:"Crea tu cuenta"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Para gestionar tu pedido necesitas una cuenta. Primero verifica tu email."}),!h&&e.jsxs("div",{className:"space-y-6",children:[!H&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 dark:bg-[#1A1A1A] rounded-2xl p-5",children:[e.jsx("p",{className:"text-xs font-black text-foreground tracking-widest mb-2",children:t("common.yourEmail")}),e.jsx("p",{className:"text-lg font-bold text-foreground",children:a.getValues("ownerEmail")})]}),fe?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center",children:[e.jsx("span",{className:"text-2xl font-black text-green-600 block mb-2",children:"‚úì"}),e.jsx("p",{className:"text-sm font-bold text-green-700",children:"C√≥digo enviado a tu email"}),e.jsx("p",{className:"text-xs text-green-600",children:"Revisa tu bandeja de entrada (y spam)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs font-black text-primary tracking-widest block mb-2",children:"C√≥digo de verificaci√≥n"}),e.jsx(f,{type:"text",value:L,onChange:s=>W(s.target.value.replace(/\D/g,"").slice(0,6)),className:"rounded-full p-6 border-border focus:border-accent text-center text-xl tracking-[0.5em] font-mono",maxLength:6,"data-testid":"input-otp-code"})]}),e.jsxs(i,{type:"button",onClick:Pe,disabled:_||L.length!==6,className:"w-full bg-accent text-primary font-black rounded-full h-14 shadow-lg shadow-accent/20 disabled:opacity-50","data-testid":"button-verify-otp",children:[_?e.jsx(O,{className:"w-5 h-5 animate-spin mr-2"}):null,_?"Verificando...":"Verificar c√≥digo"]}),e.jsx("button",{type:"button",onClick:()=>{z(!1),W("")},className:"text-xs text-accent underline w-full text-center",children:"Reenviar c√≥digo"})]}):e.jsxs(i,{type:"button",onClick:Se,disabled:G,className:"w-full bg-accent text-primary font-black rounded-full h-14 shadow-lg shadow-accent/20","data-testid":"button-send-otp",children:[G?e.jsx(O,{className:"w-5 h-5 animate-spin mr-2"}):null,G?"Enviando...":"Enviar c√≥digo de verificaci√≥n"]})]}),H&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-xl p-4 text-center mb-4",children:[e.jsx("span",{className:"text-2xl font-black text-green-600 block mb-2",children:"‚úì"}),e.jsx("p",{className:"text-sm font-bold text-green-700",children:"Email verificado"})]}),e.jsx(m,{control:a.control,name:"password",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-xs font-black text-primary tracking-widest",children:"Contrase√±a"}),e.jsx(p,{children:e.jsx(f,{...s,type:"password",className:"rounded-full p-6 border-border focus:border-accent","data-testid":"input-password"})}),e.jsx(b,{})]})}),e.jsx(m,{control:a.control,name:"confirmPassword",render:({field:s})=>e.jsxs(u,{children:[e.jsx(j,{className:"text-xs font-black text-primary tracking-widest",children:"Confirmar Contrase√±a"}),e.jsx(p,{children:e.jsx(f,{...s,type:"password",className:"rounded-full p-6 border-border focus:border-accent","data-testid":"input-confirm-password"})}),e.jsx(b,{})]})})]})]}),h&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-2xl p-6 text-center",children:[e.jsx("span",{className:"text-3xl font-black text-green-600 block mb-2",children:"‚úì"}),e.jsx("p",{className:"text-sm font-black text-green-700",children:"Ya tienes cuenta activa"}),e.jsx("p",{className:"text-xs text-green-600",children:"Contin√∫a con el siguiente paso"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,disabled:!h&&(!H||!a.getValues("password")||a.getValues("password").length<8||a.getValues("password")!==a.getValues("confirmPassword")),className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors disabled:opacity-50","data-testid":"button-next-step-18",children:"Continuar"})]})]},"step-"+o),o===15&&e.jsxs("div",{className:"space-y-8 text-left",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:"M√©todo de Pago"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Selecciona c√≥mo deseas realizar el pago de tu LLC."}),e.jsxs("div",{className:"bg-accent text-primary p-6 rounded-[2rem] text-center mb-6",children:[e.jsx("p",{className:"text-[10px] font-black tracking-widest opacity-50 mb-1",children:"Total a pagar"}),e.jsx("p",{className:"text-3xl font-black",children:g?.valid?`${((E-g.discountAmount)/100).toFixed(2)} ‚Ç¨`:`${(E/100).toFixed(2)} ‚Ç¨`}),g?.valid&&e.jsxs("p",{className:"text-xs line-through opacity-60",children:[(E/100).toFixed(2)," ‚Ç¨"]}),e.jsxs("p",{className:"text-[10px] opacity-80",children:["Incluye tasas estatales de ",a.getValues("state")]})]}),e.jsxs("div",{className:"space-y-3 p-5 rounded-2xl border-2 border-border bg-white dark:bg-card mb-6",children:[e.jsx("label",{className:"font-bold text-foreground text-sm block",children:"C√≥digo de descuento"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(m,{control:a.control,name:"discountCode",render:({field:s})=>e.jsx(u,{className:"flex-1",children:e.jsx(p,{children:e.jsx(f,{...s,className:"rounded-full h-11 px-4 border-border focus:border-accent uppercase",onChange:r=>{s.onChange(r.target.value.toUpperCase()),F(null)},"data-testid":"input-discount-code"})})})}),e.jsx(i,{type:"button",variant:"outline",onClick:()=>Ce(a.getValues("discountCode")||""),disabled:oe||!a.getValues("discountCode"),className:"rounded-full h-11 px-6 font-black border-border","data-testid":"button-validate-discount",children:oe?e.jsx(O,{className:"w-4 h-4 animate-spin"}):"Aplicar"})]}),g&&e.jsx("div",{className:`text-sm p-3 rounded-xl ${g.valid?"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400":"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400"}`,children:g.valid?`Descuento aplicado: -${(g.discountAmount/100).toFixed(2)}‚Ç¨`:g.message})]}),e.jsx(m,{control:a.control,name:"paymentMethod",render:({field:s})=>e.jsx(p,{children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("label",{className:`flex items-start gap-4 p-5 rounded-2xl border-2 cursor-pointer transition-colors ${s.value==="transfer"?"border-accent bg-accent/5":"border-border bg-white dark:bg-card hover:border-accent/50"}`,children:[e.jsx("input",{type:"radio",...s,value:"transfer",checked:s.value==="transfer",className:"w-5 h-5 accent-accent mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-black text-primary text-sm block mb-2",children:"Transferencia Bancaria"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-[#1A1A1A] rounded-xl p-4 text-xs space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"opacity-60",children:"Beneficiario:"})," ",e.jsx("span",{className:"font-bold",children:"Fortuny Consulting LLC"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"opacity-60",children:"N√∫mero de cuenta:"})," ",e.jsx("span",{className:"font-bold font-mono",children:"141432778929495"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"opacity-60",children:"N√∫mero de ruta:"})," ",e.jsx("span",{className:"font-bold font-mono",children:"121145433"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"opacity-60",children:"Banco:"})," ",e.jsx("span",{className:"font-bold",children:"Column N.A."})]}),e.jsx("p",{className:"opacity-60 text-[10px] pt-2",children:"1 Letterman Drive, Building A, Suite A4-700, San Francisco, CA 94129"}),e.jsxs("p",{className:"pt-2 text-accent font-bold",children:["Concepto: ",a.getValues("state")?`${a.getValues("state")?.substring(0,2).toUpperCase()||"XX"}-${Date.now().toString().slice(-8)}`:"Tu n√∫mero de pedido"]})]})]})]}),e.jsxs("label",{className:`flex items-start gap-4 p-5 rounded-2xl border-2 cursor-pointer transition-colors ${s.value==="link"?"border-accent bg-accent/5":"border-border bg-white dark:bg-card hover:border-accent/50"}`,children:[e.jsx("input",{type:"radio",...s,value:"link",checked:s.value==="link",className:"w-5 h-5 accent-accent mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-black text-primary text-sm block mb-1",children:"Link de Pago"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Recibir√°s un enlace de pago seguro por email para completar la transacci√≥n."})]})]})]})})}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:N,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors",children:t("application.continue")})]})]},"step-"+o),o===20&&e.jsxs("div",{className:"space-y-8 text-left",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground border-b border-accent/20 pb-2 leading-tight",children:t("maintenance.login.title")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t("maintenance.login.description")}),e.jsxs("div",{className:"bg-accent/10 border border-[#6EDC8A]/30 rounded-2xl p-5 text-center",children:[e.jsxs("p",{className:"text-sm font-bold text-foreground mb-1",children:[t("maintenance.login.hello"),ce?`, ${ce}`:"","!"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t("maintenance.login.existingAccount")})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-[#1A1A1A] rounded-2xl p-5",children:[e.jsx("p",{className:"text-xs font-black text-foreground tracking-widest mb-2",children:t("common.yourEmail")}),e.jsx("p",{className:"text-lg font-bold text-foreground",children:a.getValues("ownerEmail")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-xs font-black text-foreground tracking-widest block",children:t("auth.login.password")}),e.jsxs("div",{className:"relative",children:[e.jsx(f,{type:X?"text":"password",value:a.getValues("password")||"",onChange:s=>a.setValue("password",s.target.value),className:"rounded-full p-6 border-border focus:border-accent pr-12","data-testid":"input-login-password"}),e.jsx("button",{type:"button",onClick:()=>Ne(!X),className:"absolute right-4 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground",children:X?e.jsx(qe,{className:"w-5 h-5"}):e.jsx(Re,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(i,{type:"button",variant:"outline",onClick:()=>A(2),className:"rounded-full h-12 px-6 font-bold border-border transition-colors",children:t("application.back")}),e.jsx(i,{type:"button",onClick:De,className:"flex-[2] bg-accent hover:bg-accent/90 text-black font-bold rounded-full h-12 transition-colors","data-testid":"button-login-continue",children:t("auth.login.signIn")})]}),e.jsx("div",{className:"text-center pt-2",children:e.jsx(U,{href:"/auth/forgot-password",className:"text-xs text-accent underline",children:t("auth.login.forgotPassword")})})]},"step-"+o),o===16&&e.jsxs("div",{className:"space-y-6 text-left",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-accent/10 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(We,{className:"w-8 h-8 text-accent"})}),e.jsx("h2",{className:"text-xl md:text-2xl font-black text-foreground leading-tight",children:t("application.reviewTitle")}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:t("application.reviewSubtitle")})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-card border border-border rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"bg-accent/10 px-5 py-3 border-b border-border",children:e.jsx("h3",{className:"text-xs font-black text-foreground tracking-wide",children:t("application.personalInfo")})}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t("application.fullName")}),e.jsxs("span",{className:"text-sm font-bold text-foreground",children:[a.getValues("ownerFirstName")," ",a.getValues("ownerLastName")]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t("application.emailLabel")}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:a.getValues("ownerEmail")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t("application.phoneLabel")}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:a.getValues("ownerPhone")})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"bg-accent/10 px-5 py-3 border-b border-border",children:e.jsx("h3",{className:"text-xs font-black text-foreground tracking-wide",children:t("application.llcInfo")})}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t("application.companyNameLabel")}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:a.getValues("companyName")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t("application.stateLabel")}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:a.getValues("state")})]})]})]}),e.jsxs("div",{className:"bg-card border border-border rounded-2xl overflow-hidden",children:[e.jsx("div",{className:"bg-accent/10 px-5 py-3 border-b border-border",children:e.jsx("h3",{className:"text-xs font-black text-foreground tracking-wide",children:t("application.paymentInfo")})}),e.jsxs("div",{className:"p-5 space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t("application.paymentMethodLabel")}),e.jsx("span",{className:"text-sm font-bold text-foreground",children:a.getValues("paymentMethod")==="transfer"?t("application.bankTransfer"):t("application.paymentLink")})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t("application.totalLabel")}),e.jsx("span",{className:"text-lg font-black text-accent",children:g?.valid?`${((E-g.discountAmount)/100).toFixed(2)} ‚Ç¨`:`${(E/100).toFixed(2)} ‚Ç¨`})]})]})]})]}),e.jsx("div",{className:"space-y-4 pt-2",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-start gap-4 p-4 rounded-2xl border border-border bg-white dark:bg-card hover:border-accent cursor-pointer transition-colors",children:[e.jsx(Q,{checked:ee,onCheckedChange:s=>ue(!!s),className:"mt-0.5"}),e.jsx("span",{className:"text-xs md:text-sm text-foreground leading-tight",children:t("application.confirmInfo")})]}),e.jsxs("label",{className:"flex items-start gap-4 p-4 rounded-2xl border border-border bg-white dark:bg-card hover:border-accent cursor-pointer transition-colors",children:[e.jsx(Q,{checked:te,onCheckedChange:s=>be(!!s),className:"mt-0.5"}),e.jsxs("span",{className:"text-xs md:text-sm text-foreground leading-tight",children:[t("application.acceptTerms")," ",e.jsx(U,{href:"/legal/terminos",className:"text-accent underline font-medium",target:"_blank",children:t("application.termsLink")})]})]})]})}),e.jsxs("div",{className:"flex flex-col gap-3 pt-4",children:[e.jsx(i,{type:"submit",disabled:!ee||!te||se,className:"w-full bg-accent text-accent-foreground font-bold py-7 rounded-full text-base md:text-lg hover:bg-accent/90 transition-colors shadow-lg shadow-accent/20 disabled:opacity-50 disabled:cursor-not-allowed",children:se?e.jsx(O,{className:"animate-spin"}):t("application.submit")}),e.jsx(i,{type:"button",variant:"outline",onClick:w,className:"rounded-full h-12 font-medium border-border",children:t("application.back")})]})]},"step-"+o)]})})]}),e.jsx(Ge,{})]})}export{wt as default};
