import{j as e,m as h,A as O}from"./vendor-COEzyDgE.js";import{e as L,d as K,b as R,a as D,N as Q,L as E,B as n,C as x,h as k,i as V,j as W,k as X,F as Y,l as J,q as Z,c as ee}from"./index-CBcJsqzW.js";import{a as l,u as _,e as te,c as se,P as F,g as ae,ab as re,ac as ie,ad as ce,ae as A,af as C,K as T,U as de,H as S,ag as ne,ah as le,ai as oe,s as me,aj as xe}from"./ui--rYLpEME.js";var N="Switch",[pe]=se(N),[ue,he]=pe(N),z=l.forwardRef((s,i)=>{const{__scopeSwitch:a,name:r,checked:c,defaultChecked:d,required:o,disabled:m,value:t="on",onCheckedChange:p,form:u,...w}=s,[b,g]=l.useState(null),y=_(i,j=>g(j)),v=l.useRef(!1),P=b?u||!!b.closest("form"):!0,[f,$]=te({prop:c,defaultProp:d??!1,onChange:p,caller:N});return e.jsxs(ue,{scope:a,checked:f,disabled:m,children:[e.jsx(F.button,{type:"button",role:"switch","aria-checked":f,"aria-required":o,"data-state":M(f),"data-disabled":m?"":void 0,disabled:m,value:t,...w,ref:y,onClick:ae(s.onClick,j=>{$(G=>!G),P&&(v.current=j.isPropagationStopped(),v.current||j.stopPropagation())})}),P&&e.jsx(q,{control:b,bubbles:!v.current,name:r,value:t,checked:f,required:o,disabled:m,form:u,style:{transform:"translateX(-100%)"}})]})});z.displayName=N;var B="SwitchThumb",I=l.forwardRef((s,i)=>{const{__scopeSwitch:a,...r}=s,c=he(B,a);return e.jsx(F.span,{"data-state":M(c.checked),"data-disabled":c.disabled?"":void 0,...r,ref:i})});I.displayName=B;var be="SwitchBubbleInput",q=l.forwardRef(({__scopeSwitch:s,control:i,checked:a,bubbles:r=!0,...c},d)=>{const o=l.useRef(null),m=_(o,d),t=re(a),p=ie(i);return l.useEffect(()=>{const u=o.current;if(!u)return;const w=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(w,"checked").set;if(t!==a&&g){const y=new Event("click",{bubbles:r});g.call(u,a),u.dispatchEvent(y)}},[t,a,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...c,tabIndex:-1,ref:m,style:{...c.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});q.displayName=be;function M(s){return s?"checked":"unchecked"}var H=z,ge=I;const U=l.forwardRef(({className:s,...i},a)=>e.jsx(H,{className:L("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...i,ref:a,children:e.jsx(ge,{className:L("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));U.displayName=H.displayName;function fe(){const{toast:s}=R(),{data:i,isLoading:a}=D({queryKey:["/api/newsletter/status"]}),r=J({mutationFn:async c=>{await ee("POST",c?"/api/newsletter/subscribe":"/api/newsletter/unsubscribe",c?{email:void 0}:void 0)},onSuccess:()=>{Z.invalidateQueries({queryKey:["/api/newsletter/status"]}),s({title:"Preferencia actualizada",description:"Tu suscripción ha sido actualizada correctamente."})}});return a?e.jsx("div",{className:"w-10 h-6 bg-gray-100 animate-pulse rounded-full"}):e.jsx(U,{checked:i?.isSubscribed,onCheckedChange:c=>r.mutate(c),disabled:r.isPending})}function ye(){const{user:s,isAuthenticated:i,isLoading:a}=K(),[r,c]=l.useState("services");R(),l.useEffect(()=>{!a&&!i&&(window.location.href="/api/login")},[i,a]);const{data:d,isLoading:o}=D({queryKey:["/api/orders"],enabled:i});if(a||!i)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsx("div",{className:"w-10 h-10 border-2 border-accent border-t-transparent rounded-full animate-spin"})});const m=[{id:"services",label:"Mis Servicios",icon:A},{id:"documents",label:"Documentos",icon:C},{id:"payments",label:"Pagos y Facturas",icon:T},{id:"profile",label:"Mi Perfil",icon:de}];return e.jsxs("div",{className:"min-h-screen bg-[#F7F7F5] font-sans",children:[e.jsx(Q,{}),e.jsxs("main",{className:"pt-24 pb-16 px-4 md:px-8 max-w-7xl mx-auto",children:[e.jsx("header",{className:"mb-8 md:mb-12",children:e.jsxs(h.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col md:flex-row md:items-center justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-accent font-black uppercase tracking-widest text-[10px] md:text-sm mb-1 md:mb-2",children:"Área de Clientes"}),e.jsx("h1",{className:"text-3xl md:text-5xl font-black text-primary uppercase tracking-tighter leading-tight md:leading-none",children:s?.firstName?`Hola, ${s.firstName}`:"Mi Panel"})]}),e.jsx(E,{href:"/servicios#pricing",children:e.jsxs(n,{className:"w-full md:w-auto bg-primary text-white font-black rounded-full px-6 md:px-8 py-5 md:py-6 hover:scale-105 transition-all shadow-xl shadow-primary/20 flex items-center justify-center gap-2 text-sm md:text-base",children:[e.jsx(ce,{className:"w-5 h-5"})," Nueva LLC"]})})]})}),e.jsx("div",{className:"flex overflow-x-auto pb-4 mb-8 gap-2 no-scrollbar -mx-4 px-4 md:mx-0 md:px-0",children:m.map(t=>e.jsxs("button",{onClick:()=>c(t.id),className:`flex items-center gap-2 px-5 py-3 rounded-full font-black text-xs md:text-sm uppercase tracking-tight transition-all whitespace-nowrap shrink-0 ${r===t.id?"bg-accent text-primary shadow-lg shadow-accent/20 scale-105":"bg-white text-muted-foreground hover:bg-gray-50"}`,children:[e.jsx(t.icon,{className:"w-4 h-4"}),t.label]},t.id))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 md:gap-8",children:[e.jsx("div",{className:"lg:col-span-2 order-2 lg:order-1",children:e.jsxs(O,{mode:"wait",children:[r==="services"&&e.jsxs(h.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8",children:[e.jsxs(x,{className:"rounded-3xl border-0 shadow-sm p-6 bg-white",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-1",children:"Actividad de Cuenta"}),e.jsx("h4",{className:"text-2xl font-black text-primary",children:d?.length||0}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Servicios totales contratados"})]}),e.jsxs(x,{className:"rounded-3xl border-0 shadow-sm p-6 bg-white",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-muted-foreground mb-1",children:"Estado Global"}),e.jsx("h4",{className:"text-2xl font-black text-accent uppercase",children:d?.some(t=>t.status==="pending")?"Pendiente":"Al día"}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Situación de tus trámites"})]})]}),e.jsx("h2",{className:"text-xl md:text-2xl font-black text-primary uppercase tracking-tight mb-6",children:"Tus Servicios Activos"}),o?e.jsx("div",{className:"space-y-4",children:[1,2].map(t=>e.jsx("div",{className:"h-32 bg-white rounded-[1.5rem] md:rounded-[2rem] animate-pulse"},t))}):d&&Array.isArray(d)&&d.length>0?e.jsx("div",{className:"space-y-4",children:d.map(t=>e.jsx(x,{className:"rounded-[1.5rem] md:rounded-[2rem] border-0 shadow-sm overflow-hidden hover:shadow-md transition-shadow group",children:e.jsxs(k,{className:"p-6 md:p-8 flex flex-col md:flex-row items-center justify-between gap-6",children:[e.jsxs("div",{className:"flex items-center gap-4 md:gap-6 w-full",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 bg-accent/10 rounded-2xl flex items-center justify-center shrink-0 group-hover:bg-accent group-hover:text-primary transition-colors",children:e.jsx(S,{className:"w-6 h-6 md:w-7 md:h-7"})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"text-lg md:text-xl font-black text-primary uppercase tracking-tight truncate",children:t.product?.name||"Constitución LLC"}),e.jsxs("p",{className:"text-xs md:text-sm text-muted-foreground font-medium truncate",children:["Pedido #",t.id," • ",new Date(t.createdAt).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center justify-between md:justify-end gap-4 w-full md:w-auto pt-4 md:pt-0 border-t md:border-t-0 border-gray-100",children:[e.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest whitespace-nowrap ${t.status==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:t.status==="paid"?"Activo":"Pendiente Pago"}),e.jsx(n,{variant:"ghost",className:"rounded-full w-10 h-10 md:w-12 md:h-12 p-0 bg-gray-50 group-hover:bg-accent group-hover:text-primary shrink-0",children:e.jsx(ne,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]})},t.id))}):e.jsxs("div",{className:"bg-white p-16 rounded-[3rem] text-center shadow-sm",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx(S,{className:"w-10 h-10 text-gray-300"})}),e.jsx("h3",{className:"text-2xl font-black text-primary uppercase mb-3",children:"No tienes servicios aún"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Emprende hoy mismo y constituye tu empresa en Estados Unidos con Easy US LLC."}),e.jsx(E,{href:"/servicios#pricing",children:e.jsx(n,{className:"bg-accent text-primary font-black rounded-full px-10 py-7 text-lg shadow-xl shadow-accent/20",children:"Empezar ahora"})})]})]},"services"),r==="profile"&&e.jsx(h.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:e.jsxs(x,{className:"rounded-[1.5rem] md:rounded-[2rem] border-0 shadow-sm",children:[e.jsxs(V,{className:"p-6 md:p-8",children:[e.jsx(W,{className:"text-xl md:text-2xl font-black text-primary uppercase tracking-tight",children:"Información Personal"}),e.jsx(X,{className:"text-xs md:text-sm",children:"Gestiona tus datos de contacto y preferencias."})]}),e.jsxs(k,{className:"p-6 md:p-8 pt-0 space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-muted-foreground",children:"Nombre"}),e.jsx("div",{className:"p-3 md:p-4 bg-gray-50 rounded-xl font-bold text-sm md:text-base",children:s?.firstName||"No disponible"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-muted-foreground",children:"Apellido"}),e.jsx("div",{className:"p-3 md:p-4 bg-gray-50 rounded-xl font-bold text-sm md:text-base",children:s?.lastName||"No disponible"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-muted-foreground",children:"Teléfono"}),e.jsx("div",{className:"p-3 md:p-4 bg-gray-50 rounded-xl font-bold text-sm md:text-base",children:s?.phone||"No disponible"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-muted-foreground",children:"Actividad del Negocio"}),e.jsx("div",{className:"p-3 md:p-4 bg-gray-50 rounded-xl font-bold text-sm md:text-base",children:s?.businessActivity||"No proporcionada"})]}),e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx("label",{className:"text-[10px] md:text-xs font-black uppercase tracking-widest text-muted-foreground",children:"ID de Cliente"}),e.jsx("div",{className:"p-3 md:p-4 bg-gray-50 rounded-xl font-mono text-[10px] md:text-xs opacity-60 uppercase break-all",children:s?.id})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 md:gap-4",children:[e.jsx(n,{className:"bg-primary text-white font-black rounded-full px-8 py-6 text-sm",children:"Guardar cambios"}),e.jsx(n,{variant:"outline",className:"rounded-full font-black border-2 py-6 text-sm",onClick:()=>window.location.href="/api/login?prompt=login",children:"Cambiar Contraseña"})]}),e.jsx("div",{className:"pt-8 border-t border-gray-100",children:e.jsxs("div",{className:"flex items-center justify-between gap-4 p-6 bg-accent/5 rounded-[2rem] border border-accent/10",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h4",{className:"text-sm font-black uppercase tracking-tight text-primary flex items-center gap-2",children:[e.jsx(le,{className:"w-4 h-4 text-accent"})," Suscripción Newsletter"]}),e.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:"Recibe noticias, actualizaciones fiscales y consejos para tu LLC."})]}),e.jsx(fe,{})]})})]})]})},"profile"),r==="payments"&&e.jsxs(h.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[e.jsxs(x,{className:"rounded-[1.5rem] md:rounded-[2.5rem] bg-primary text-white border-0 shadow-xl overflow-hidden relative",children:[e.jsxs("div",{className:"p-6 md:p-10 relative z-10",children:[e.jsxs("div",{className:"flex justify-between items-start mb-8 md:mb-12",children:[e.jsx(T,{className:"w-10 h-10 md:w-12 md:h-12 text-accent"}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.2em] opacity-60",children:"Suscripción Activa"})]}),e.jsx("h3",{className:"text-2xl md:text-3xl font-black uppercase tracking-tight mb-2",children:"Métodos de Pago"}),e.jsx("p",{className:"text-sm md:text-base text-white/60 font-medium mb-6 md:mb-8",children:"Gestiona tus tarjetas, facturas y suscripciones a través de Stripe."}),e.jsx("div",{className:"flex flex-wrap gap-4",children:e.jsx("a",{href:"https://billing.stripe.com/p/login/test_6oE5mG0Y0",target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto",children:e.jsxs(n,{className:"w-full sm:w-auto bg-accent text-primary font-black rounded-full px-8 py-6 flex items-center justify-center gap-2 hover:bg-white transition-colors",children:["Portal Stripe ",e.jsx(oe,{className:"w-4 h-4"})]})})})]}),e.jsx("div",{className:"absolute -right-20 -bottom-20 w-60 h-60 md:w-80 md:h-80 bg-accent opacity-5 rounded-full"})]}),e.jsx("h3",{className:"text-xl md:text-2xl font-black text-primary uppercase tracking-tight mt-10 md:mt-12 mb-6",children:"Historial de Facturación"}),e.jsx("div",{className:"space-y-4",children:d?.map(t=>e.jsx(x,{className:"rounded-2xl md:rounded-3xl border-0 shadow-sm overflow-hidden group",children:e.jsxs(k,{className:"p-5 md:p-6 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 md:w-12 md:h-12 bg-gray-50 rounded-xl md:rounded-2xl flex items-center justify-center group-hover:bg-accent group-hover:text-primary transition-colors",children:e.jsx(C,{className:"w-5 h-5 md:w-6 md:h-6"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-black text-primary uppercase text-xs md:text-sm",children:["Factura INV-",t.id]}),e.jsx("p",{className:"text-[10px] md:text-xs text-muted-foreground font-bold",children:new Date(t.createdAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-6 w-full sm:w-auto",children:[e.jsxs("p",{className:"font-black text-primary text-sm md:text-base",children:[(t.amount/100).toFixed(2),"€"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(n,{variant:"outline",size:"sm",className:"rounded-full font-black border-2 h-8 px-3 text-[10px]",onClick:()=>window.open(`/api/orders/${t.id}/invoice`,"_blank"),children:"Factura"}),e.jsx(n,{variant:"outline",size:"sm",className:"rounded-full font-black border-2 h-8 px-3 text-[10px]",onClick:()=>window.open(`/api/orders/${t.id}/receipt`,"_blank"),children:"Recibo"})]})]})]})},t.id))})]},"payments"),r==="documents"&&e.jsxs(h.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"space-y-6",children:[e.jsx("h2",{className:"text-xl md:text-2xl font-black text-primary uppercase tracking-tight mb-6",children:"Centro de Documentación"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(x,{className:"rounded-[1.5rem] md:rounded-[2rem] border-0 shadow-sm p-6 md:p-8 flex flex-col items-center text-center group hover:bg-accent transition-all",children:[e.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 bg-gray-50 rounded-2xl flex items-center justify-center mb-4 group-hover:bg-white/20 transition-colors",children:e.jsx(C,{className:"w-7 h-7 md:w-8 md:h-8 text-primary"})}),e.jsx("h3",{className:"font-black text-primary uppercase tracking-tight mb-2 text-sm md:text-base",children:"Contrato de Servicio"}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mb-6 font-medium",children:"Tus términos aceptados y firmados con Easy US LLC."}),e.jsxs(n,{variant:"outline",className:"rounded-full font-black border-2 w-full text-xs py-5",children:[e.jsx(me,{className:"w-4 h-4 mr-2"})," Descargar PDF"]})]}),e.jsxs(x,{className:"rounded-[1.5rem] md:rounded-[2rem] border-0 shadow-sm p-6 md:p-8 flex flex-col items-center text-center opacity-50 bg-gray-50/50",children:[e.jsx("div",{className:"w-14 h-14 md:w-16 md:h-16 bg-white rounded-2xl flex items-center justify-center mb-4",children:e.jsx(S,{className:"w-7 h-7 md:w-8 md:h-8 text-gray-300"})}),e.jsx("h3",{className:"font-black text-primary uppercase tracking-tight mb-2 text-sm md:text-base",children:"Articles of Organization"}),e.jsx("p",{className:"text-xs md:text-sm text-muted-foreground mb-6 font-medium",children:"Disponible una vez que el estado procese tu LLC."}),e.jsx(n,{disabled:!0,variant:"outline",className:"rounded-full font-black border-2 w-full text-xs py-5",children:"Pendiente..."})]})]})]},"documents")]})}),e.jsxs("div",{className:"space-y-6 md:gap-8 order-1 lg:order-2",children:[e.jsxs("section",{className:"bg-white p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] shadow-sm",children:[e.jsxs("h3",{className:"text-lg md:text-xl font-black uppercase tracking-tight text-primary mb-6 flex items-center gap-2",children:[e.jsx(xe,{className:"w-5 h-5 text-accent"})," Seguimiento"]}),e.jsx("div",{className:"space-y-5 md:space-y-6",children:[{title:"Verificación de Datos",status:"completed",date:"Completado"},{title:"Preparación de Documentos",status:"current",date:"En curso"},{title:"Presentación Estatal",status:"pending",date:"Pendiente"},{title:"Obtención de EIN",status:"pending",date:"Pendiente"}].map((t,p)=>e.jsxs("div",{className:"flex gap-4 relative",children:[p<3&&e.jsx("div",{className:"absolute left-3 top-6 w-0.5 h-8 md:h-10 bg-gray-100"}),e.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center shrink-0 z-10 ${t.status==="completed"?"bg-accent text-primary":t.status==="current"?"bg-primary text-white border-4 border-accent":"bg-gray-100 text-gray-400"}`,children:t.status==="completed"?e.jsx(A,{className:"w-3 h-3"}):null}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:`text-xs md:text-sm font-black uppercase tracking-tight ${t.status==="pending"?"text-gray-400":"text-primary"} truncate`,children:t.title}),e.jsx("p",{className:"text-[10px] md:text-xs font-bold text-muted-foreground",children:t.date})]})]},p))})]}),e.jsxs("section",{className:"bg-accent/10 p-6 md:p-8 rounded-[2rem] md:rounded-[2.5rem] border-2 border-accent/20",children:[e.jsx("h3",{className:"text-base md:text-lg font-black uppercase tracking-tight text-primary mb-3 md:mb-4",children:"¿Necesitas ayuda?"}),e.jsx("p",{className:"text-xs md:text-sm text-primary/70 font-medium mb-5 md:mb-6 leading-relaxed",children:"Nuestro equipo de expertos está listo para resolver tus dudas sobre la LLC."}),e.jsx("a",{href:"https://wa.me/34614916910",target:"_blank",rel:"noopener noreferrer",children:e.jsx(n,{className:"w-full bg-primary text-white font-black rounded-full py-5 md:py-6 text-sm",children:"Contactar Soporte"})})]})]})]})]}),e.jsx(Y,{})]})}export{ye as default};
