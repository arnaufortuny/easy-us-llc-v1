import{j as e,m}from"./vendor-CrJWq8MZ.js";import{a as o,z as p}from"./ui-C32c8noR.js";import{b as x,B as u}from"./index-BTKepvA3.js";import{I as f}from"./input-Cn2MZXDg.js";function y(){const[t,i]=o.useState(""),[n,l]=o.useState(!1),{toast:s}=x(),c=async a=>{if(a.preventDefault(),!!t){l(!0);try{const r=await fetch("/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),d=await r.json();r.ok?(s({title:"¡Suscrito!",description:"Revisa tu bandeja de entrada.",variant:"success"}),i("")):s({title:"Error",description:d.message||"No se pudo completar la suscripción.",variant:"destructive"})}catch{s({title:"Error",description:"Error de conexión.",variant:"destructive"})}finally{l(!1)}}};return e.jsxs("section",{className:"py-16 md:py-20 bg-[#F7F7F5] relative overflow-hidden font-sans border-t border-primary/5 w-full",children:[e.jsx("div",{className:"absolute inset-0 opacity-[0.05] pointer-events-none bg-[url('/hero-bg.png')] bg-repeat"}),e.jsx("div",{className:"w-full px-5 sm:px-8 relative z-10 flex flex-col items-center justify-center",children:e.jsxs(m.div,{initial:{opacity:0,y:15},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center space-y-4 md:space-y-8 w-full flex flex-col items-center",children:[e.jsxs("div",{className:"space-y-2 md:space-y-4 w-full text-center",children:[e.jsxs("h2",{className:"text-xl md:text-4xl font-black  tracking-tighter text-primary leading-none text-center",children:["Únete a nuestra ",e.jsx("span",{className:"text-[#6EDC8A] bg-accent px-2 inline-block",children:"Newsletter"})]}),e.jsxs("p",{className:"text-primary/70 text-xs md:text-sm font-medium max-w-lg mx-auto leading-relaxed text-center px-2",children:["Consejos claros sobre fiscalidad en USA.",e.jsx("span",{className:"block mt-1",children:"Novedades que realmente importan para tu negocio."})]})]}),e.jsx("form",{onSubmit:c,className:"max-w-lg w-full mx-auto relative group flex flex-col items-center text-center",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(f,{type:"email",inputMode:"email",placeholder:"Indícanos tu email",value:t,onChange:a=>i(a.target.value),className:"h-10 md:h-14 pl-4 pr-12 rounded-full border-2 border-primary/10 bg-white text-primary placeholder:text-primary/40 text-xs md:text-base font-black focus:border-[#6EDC8A] focus:bg-white focus:ring-0 transition-all shadow-inner w-full text-left",required:!0}),e.jsx(u,{type:"submit",disabled:n,className:"absolute right-1.5 top-1.5 h-7 w-7 md:h-11 md:w-11 rounded-full bg-[#6EDC8A] text-primary p-0 hover:scale-110 active:scale-90 transition-all shadow-lg flex items-center justify-center border-0",children:n?e.jsx(p,{className:"w-3 h-3 md:w-5 md:h-5 animate-spin"}):e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"4",strokeLinecap:"round",strokeLinejoin:"round",className:"w-3.5 h-3.5 md:w-5 md:h-5 transform group-hover:translate-x-0.5 transition-transform",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})})]})})]})})]})}export{y as N};
